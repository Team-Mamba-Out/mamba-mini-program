<view class="header">
  <view class="avatar-wrapper">
    <!-- åŠ¨æ€ç”Ÿæˆå¤´åƒé¦–å­—æ¯ -->
    <text class="avatar-text">{{avatarText}}</text>
  </view>
  <view wx:if="{{userInfo.name}}" class="welcome">Welcome, {{userInfo.name}}!ðŸ¤—</view>
  <view wx:if="{{userInfo && !userInfo.name}}" class="welcome">Welcome, user!ðŸ¤— Please complete your personal information.
  </view>
  <view wx:if="{{!userInfo}}" class="welcome">Welcome, Tourist!ðŸ¤—</view>
</view>

<view class="info-list">
  <view class="buttons">
    <view class="modify" bind:tap="modify" wx:if="{{!isEditing}}">
      <image src="/img/modify.png" mode=""/>
    </view>
    <view wx:if="{{isEditing}}" class="cancel" bind:tap="cancel">
      cancel
    </view>
    <view wx:if="{{isEditing}}" class="save" bind:tap="save">
      save
    </view>
  </view>
  <view class="info-item">
    <van-icon name="coupon" color="#674ed4" size="20px" />
    <text class="label">Role</text>
    <block wx:if="{{isEditing}}">
      <input class="info-input" bindinput="handleInput" data-field="role" value="{{userInfo.role}}" />
    </block>
    <block wx:else>
      <text class="info-value">{{userInfo.role}}</text>
    </block>
  </view>

  <view class="info-item">
    <van-icon name="contact" color="#674ed4" size="20px" />
    <text class="label">Name</text>
    <block wx:if="{{isEditing}}">
      <input class="info-input" bindinput="handleInput" data-field="name" value="{{userInfo.name}}" />
    </block>
    <block wx:else>
      <text class="info-value">{{userInfo.name}}</text>
    </block>
  </view>

  <view class="info-item">
    <van-icon name="invitation" color="#674ed4" size="20px" />
    <text class="label">E-mail</text>
    <block wx:if="{{isEditing}}">
      <input class="info-input" bindinput="handleInput" data-field="email" value="{{userInfo.email}}" />
    </block>
    <block wx:else>
      <text class="info-value">{{userInfo.email}}</text>
    </block>
  </view>

  <view class="info-item">
    <van-icon name="phone" color="#674ed4" size="20px" />
    <text class="label">Phone</text>
    <block wx:if="{{isEditing}}">
      <input class="info-input" bindinput="handleInput" data-field="phone" value="{{userInfo.phone}}" />
    </block>
    <block wx:else>
      <text class="info-value">{{userInfo.phone}}</text>
    </block>
  </view>
</view>

<!-- æ“ä½œæŒ‰é’® -->
<view class="btn-container" wx:if="{{userInfo!=null}}">
  <button class="logout-btn" bind:tap="logout">Log Out</button>
</view>

<van-tabbar active="{{ active }}" active-color="#674ed4" inactive-color="#919191" bind:change="onChange">
  <van-tabbar-item name="index" icon="wap-home">Home</van-tabbar-item>
  <van-tabbar-item name="message" icon="comment">Message</van-tabbar-item>
  <van-tabbar-item name="order" icon="todo-list">Order</van-tabbar-item>
  <van-tabbar-item name="profile" icon="contact">Profile</van-tabbar-item>
</van-tabbar>